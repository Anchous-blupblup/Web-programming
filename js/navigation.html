<!DOCTYPE html>
<html lang="fi">

<head>
    <meta charset="UTF-8">
    <title>Dynamic menu</title>
    <style>
        body {
            font-family: sans-serif;
            padding: 20px;
        }

        /* Navigation styles ready */
        #nav-list {
            list-style-type: none;
            padding: 0;
            margin: 0;
            background-color: #333;
            overflow: hidden;
        }

        #nav-list li {
            float: left;
        }

        #nav-list li a {
            display: block;
            color: white;
            text-align: center;
            padding: 14px 16px;
            text-decoration: none;
        }

        #nav-list li a:hover {
            background-color: #111;
        }

        /* You must use this class in JavaScript */
        .active {
            background-color: #04AA6D !important;
        }
    </style>
</head>

<body>

    <h1>Website</h1>

    <nav>
        <ul id="nav-list"></ul>
    </nav>

    <div style="margin-top: 20px; padding: 10px; border: 1px solid #ccc;">
        <h3>Page content</h3>
        <p>This is an example of dynamic navigation.</p>
        <p>Note: For the "active" class to work when testing, make sure that
            the url in the pages table matches the name of this file (e.g. navigation.html).</p>
    </div>

    <script>
        // 1. DATA: Define navigation links
        const pages = [{
                name: "Home",
                url: "navigation.html"
            },
            {
                name: "Products",
                url: "products.html"
            },
            {
                name: "Contact",
                url: "contact.html"
            }
        ];

        // 2. AUXILIARY VARIABLE: Retrieve the file name of the current page from the address bar
        // (Equivalent to PHP's basename($_SERVER['PHP_SELF']) command)
        const currentPage = window.location.pathname.split("/").pop();

        // 3. GET ELEMENT: Where to print the navigation?
        const navUl = document.getElementById("nav-list");

        // 4. LOOP: Go through the pages in the pages table
        pages.forEach(function (page) {

            // --- WRITE YOUR CODE BELOW ---

            // A) Create an HTML string or elements (<li><a href="...">...</a></li>)
            // Use the page.name and page.url data.

            const li = document.createElement("li");
            const a = document.createElement("a");
            a.href = page.url;
            a.textContent = page.name;

            // B) LOGIC: Check if this page is active.
            // CONDITION: If (page.url === currentPage), then...
            // ...add class="active" to the link

            if (page.url === currentPage) {
                a.classList.add("active");
            }

            // C) Add the finished snippet inside the navUl element (innerHTML += ... or appendChild)

            li.appendChild(a);
            navUl.appendChild(li);

        });
    </script>

</body>

</html>